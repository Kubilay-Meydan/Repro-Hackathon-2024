# Utiliser la bonne version de ubuntu
FROM ubuntu:18.04

#Eviter les interactions lors de l'installation
ENV DEBIAN_FRONTEND=noninteractive

# Installation des dependences et de R
RUN apt-get update && \
    apt-get install -y \
    software-properties-common \
    curl \
    wget \
    libcurl4-openssl-dev \
    libssl-dev \
    libxml2-dev \
    libz-dev \
    r-base \
    && apt-get clean

# Téléchargement de DESeq2 1.16.1
RUN wget http://launchpadlibrarian.net/330975418/r-bioc-deseq2_1.16.1-1_amd64.deb && \
    dpkg -i r-bioc-deseq2_1.16.1-1_amd64.deb || apt-get -f install -y && \
    rm r-bioc-deseq2_1.16.1-1_amd64.deb

# Définir le répertoire de travail
WORKDIR /workspace

# Commande par défaut pour lancer R
CMD ["R"]

# Pour créer l'image docker
# docker build -f r-docker -t r-docker .
