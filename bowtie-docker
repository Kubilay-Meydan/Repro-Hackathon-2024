# Utiliser Ubuntu 18.04 avec plateforme x86_64 compatible avec la version Bowtie
FROM ubuntu:18.04

# Installer les dépendances nécessaires
RUN apt-get update && apt-get install -y \
    build-essential \
    wget \
    unzip \
    && rm -rf /var/lib/apt/lists/*

# Télécharger Bowtie depuis sourceforge
RUN wget --timeout=180 -O bowtie-0.12.7-linux-x86_64.zip https://sourceforge.net/projects/bowtie-bio/files/bowtie/0.12.7/bowtie-0.12.7-linux-x86_64.zip/download

# Décompresser, déplacer et lier les exécutables dans le PATH
RUN unzip bowtie-0.12.7-linux-x86_64.zip && \
    mv bowtie-0.12.7 /bowtie && \
    ln -s /bowtie/bowtie /usr/local/bin/bowtie && \
    ln -s /bowtie/bowtie-build /usr/local/bin/bowtie-build

# Ajouter Bowtie au PATH
ENV PATH="/bowtie-0.12.7:${PATH}"

# Vérification de l'installation de Bowtie et Bowtie-build
RUN bowtie --version && bowtie-build --version

# Commande d'entrée par défaut
CMD ["/bin/bash"]
